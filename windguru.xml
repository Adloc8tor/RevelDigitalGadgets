<?xml version="1.0" encoding="UTF-8"?>
<Module>
  <ModulePrefs title="WindGuru" description="Displays a WindGuru feed" author="Adloc8tor" background="transparent">
  	<!--<Locale messages="https://adloc8tor.github.io/RevelDigitalGadgets/monthlyGoogleCalendar.lang.xml"/>-->
    <UserPref name="SiteID" display_name="WindGuru site ID" datatype="string" required="true" default-value="467248"/>
    <UserPref name="paramWindSpeed" display_name="Wind speed" datatype="bool" default_value="true" />
    <UserPref name="paramWindGusts" display_name="Wind gusts" datatype="bool" default_value="true" />
    <UserPref name="paramWindDirection" display_name="Wind direction" datatype="bool" default_value="true" />
    <UserPref name="paramTemperature" display_name="Temperature (C)" datatype="bool" default_value="true" />
    <UserPref name="paramWave" display_name="Wave" datatype="bool" default_value="true" />
    <UserPref name="paramWaveDirection" display_name="Wave direction" datatype="bool" default_value="true" />
    <UserPref name="paramWavePeriod" display_name="Wave period (s)" datatype="bool" default_value="true" />
    <UserPref name="paramPressure" display_name="Pressure (hPa)" datatype="bool" default_value="true" />
    <UserPref name="paramPrecipitation" display_name="Precipitation (mm/3h)" datatype="bool" default_value="true" />
    <UserPref name="paramWindGuruRating" display_name="WindGuru rating" datatype="bool" default_value="false" />
    <UserPref name="paramHumidity" display_name="Humidity (%)" datatype="bool" default_value="false" />
    <UserPref name="paramModifWind" display_name="Modif. wind" datatype="bool" default_value="false" />
    <UserPref name="paramWindChill" display_name="Wind chill" datatype="bool" default_value="false" />
    <UserPref name="paramIsotherm" display_name="0 isotherm" datatype="bool" default_value="false" />
    <UserPref name="paramCloudCover" display_name="Cloud cover (%)" datatype="bool" default_value="false" />
    <UserPref name="paramCloudCoverHiMedLo" display_name="Cloud cover (%) Hi/Med/Lo" datatype="bool" default_value="false" />

    <UserPref name="paramForecastLength" display_name="Forecast length (hours)" datatype="string" default_value="72" required="true" />

  </ModulePrefs>
  <Content type="html">
<![CDATA[
<style type="text/css">
body *
{
  line-height: 1.2em; 
  letter-spacing: 0; 
  word-spacing: normal;
}
body
{
  overflow: hidden;
  background: transparent;
}

</style>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js" type="text/javascript"></script>
<script src="https://reveldigital.github.io/reveldigital-gadgets/third-party/moment-with-langs.min.js" type="text/javascript"></script>
<script src="https://reveldigital.github.io/reveldigital-gadgets/third-party/moment-timezone-with-data.js" type="text/javascript"></script>
<script src="https://reveldigital.github.io/reveldigital-gadgets/third-party/simpledateformat.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.18.4/TweenLite.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.18.4/utils/Draggable.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.18.4/plugins/CSSPlugin.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.18.4/plugins/ScrollToPlugin.min.js"></script>
<script src="https://reveldigital.github.io/reveldigital-gadgets/third-party/autoscroll.js" type="text/javascript"></script>
<script src="https://reveldigital.github.io/gadget-common/utils.js" type="text/javascript"></script>

<script src="https://widget.windguru.cz/js/wg_widget.php" type="text/javascript"></script>

<div id="wg_target_div_467248_50466941"></div>

<script language="JavaScript" type="text/javascript">

var gadgetPrefs = new gadgets.Prefs();

var params = [];

if (gadgetPrefs.getBool("paramWindSpeed") == true)
{
  params.push('WINDSPD')
}
if (gadgetPrefs.getBool('paramWindGusts') == true)
{
  params.push('GUST')
}
if (gadgetPrefs.getBool('paramWindDirection') == true)
{
  params.push('SMER');
}
if (gadgetPrefs.getBool('paramTemperature') == true)
{
  params.push('TMPE');
}
if (gadgetPrefs.getBool('paramWave') == true)
{
  params.push('HTSGW');
}
if (gadgetPrefs.getBool('paramWaveDirection') == true)
{
  params.push('WAVESMER');
}
if (gadgetPrefs.getBool('paramWindPeriod') == true)
{
  params.push('PERPW');
}
if (gadgetPrefs.getBool('paramPressure') == true)
{
  params.push('SLP');
}
if (gadgetPrefs.getBool('paramPrecipitation') == true)
{
  params.push('APCPs');
}
if (gadgetPrefs.getBool('paramWindGuruRating') == true)
{
  params.push('RATING');
}
if (gadgetPrefs.getBool('paramHumidity') == true)
{
  params.push('RH');
}
if (gadgetPrefs.getBool('paramModifWind') == true)
{
  params.push('MWINDSPD');
}
if (gadgetPrefs.getBool('paramWindChill') == true)
{
  params.push('WCHILL');
}
if (gadgetPrefs.getBool('paramIsotherm') == true)
{
  params.push('FLHGT');
}
if (gadgetPrefs.getBool('paramCloudCover') == true)
{
  params.push('TCDC');
}
if (gadgetPrefs.getBool('paramCloudCoverHiMedLo') == true)
{
  params.push('CDC');
}

WgWidget({
s: __UP_SiteID__, odh:0, doh:24, wj:'knots', tj:'c', waj:'m', fhours:gadgetPrefs.getBool('paramForecastLength'), lng:'en',
params: params,
first_row:true,
spotname:true,
first_row_minfo:true,
last_row:true,
lat_lon:true,
tz:true,
sun:true,
link_archive:false,
link_new_window:false
},
'wg_target_div_467248_50466941'
);

</script>


]]>
</Content></Module>